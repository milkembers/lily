:root [class*="chat"] {
	// Forums
	[class*="content"] > [class*="container"]:has([class*="grid"], [class*="list"]) {
		background: var(--background-primary);

		[class*="mainCard"] {
			background-color: var(--background-secondary);
		}
	}

	// Threads
	[class*="chatLayerWrapper"] {
		& > * {
			width: 100%!important;
			min-width: unset;
			filter:unset;
			//max-width: inherit;
		}
		[class*="scrollerContent"] {
			min-height: unset;
		}
		position: fixed;
		top: 280px;
		bottom: 120px;
		right: 60px;
		height: unset;
		width: 320px;
		min-width: unset;
		border-radius: var(--border-radius);
		background-color: var(--background-primary);
		padding-bottom: 26px;
		overflow: visible;

		&::-webkit-scrollbar {
			margin-right: 50px;
		}

		// Header
		&::before {
			content: "Thread";
			position: absolute;
			top: -60px;
			z-index: 1;
			width: 100%;
			height: 60px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 20px;
			font-weight: bolder;
			color: var(--header-primary);
			background-color: var(--background-secondary);
			border-radius: var(--border-radius) var(--border-radius) 0 0;
		}

		// Footer
		&::after {
			content: "";
			position: fixed;
			bottom: 85px;
			z-index: 1;
			width: 320px;
			height: 35px;
			background-color: var(--background-secondary);
			border-radius: 0 0 var(--border-radius) var(--border-radius);
			background-image: linear-gradient( to right, var(--header-primary) 33%, rgba(255, 255, 255, 0) 0%);
			background-position: top;
			background-size: 21px 2px;
			background-repeat: repeat-x;
		}
	}

	// Embed
	[class*="embedFull"] {
		border: none;
		margin-left: 10px;
		border-radius: 5px var(--border-radius) var(--border-radius) 5px;

		&:after {
			content: "";
			position: absolute;
			top: 1px;
			bottom: 1px;
			left: -10px;
			width: 0px;
			border: solid;
			border-width: 0 0 0 6px;
			border-color: inherit;
			border-radius: var(--border-radius);
		}
	}

	// Code blocks
	.hljs {
		border: none;
		border-radius: var(--border-radius);
	}

	// Audio player
	.wrapperAudio__555ce { // TODO
		padding: 10px 0 0 0;
		border-radius: var(--border-radius);
	}
	.audioMetadata_e546a8 {
		padding: 5px 10px;
	}
	.audioControls__9fbe9 {
		border-radius: 0 0 var(--border-radius) var(--border-radius);
	}

	// Spoiler
	[class*="spoilerText"][class*="hidden"],
	[class*="spoilerText"][class*="hidden"]:hover {
		background-color: var(--background-secondary-alt);
	}

	// Discord invite
	[class*="message-accessories"] > [class*="wrapper"] {
		border-radius: var(--border-radius);
	}

	// Spotify session
	.invite__2a93b { // TODO
		background-color: var(--background-secondary);
		border: none;
		border-radius: var(--border-radius);
	}

	// Spotify embed
	.embedSpotify_d58077 { // TODO
		border-radius: var(--border-radius);
	}

	// Discord Gift
	.tile_ebc93b { // TODO
		background-color: var(--background-secondary);
		border-radius: var(--border-radius);
	}
	.tileHorizontal_f83028.tile_ebc93b:hover { // TODO
		background-color: var(--background-secondary-alt);
	}
	.invalidPoop__03aa3 { // TODO
		background-color: rgba(0, 0, 0, 0.103);
	}

	// # @ / autocomplete menu
	[class*="channelTextArea"] {
		& > [class*="autocomplete"],
		& > [class*="autocomplete"] [role="option"] {
			background-color: var(--background-secondary-alt);
		}
		[class*="categoryHeader"],
		[class*="selected"] {
			background-color: var(--background-tertiary);
			border-radius: var(--border-radius);
		}
	}
	// @everyone popout
	.everyonePopout-nEbJY3 { //TODO
		background-color: var(--background-primary);
		box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.2),
		0 0 0 1px rgba(56, 31, 31, 0.11);
	}

	// Emoji picker
	#emoji-picker-tab-panel {
		[class*="emojiItem"][class*="emojiItemSelected"] {
			background-color: var(--background-modifier-selected);
		}
		[class*="searchBar"] {
			border-radius: var(--border-radius);
		}

		[class*="imageLoading"] {
			background-image: none !important;
			background-color: var(--background-primary);
			border-radius: 8px;
		}
	}

	// Reactions modal
	[class*="focusLock"][aria-label="Reactions"] {
		& > [class*="container"] > [class*="scroller"] {
			background: var(--background-tertiary);
			border-radius:  var(--border-radius) 0 0 var(--border-radius);
		}
		.container_dc03c3, // what was this?? TODO
		[class*="reactors"] {
			background: var(--background-secondary);
			border-radius: 0 var(--border-radius) var(--border-radius) 0;
		}
		[class*="reactionSelected"] {
			background-color: #6e85d321;
		}
		[class*="reactorDefault"] {
			box-shadow: inset 0 -1px 0 var(--background-primary);
		}
	}
	// Deleting message modal // TODO: what did this do?
	[class*="focusLock"] [class*="root"][class*="small"] [class*="message_"] {
		background: var(--background-primary);
		box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(56, 31, 31, 0.11);
	}

	// Attachements
	.textContainer__709ff,
	.footer__06f4b {
		border: none;
	}

	// Emoji popout
	[class*="reactionTooltip"] {
		border-radius: var(--border-radius);
	}

	// New message bar
	[class*="newMessagesBar"] {
		top: 5px;
		border-radius: var(--border-radius);
		background-color: var(--background-accent);
		padding-top: 0;
	}

	// Jump to present bar
	[class*="jumpToPresentBar"] {
		bottom: 12px;
		padding-bottom: 0;
		border-radius: var(--border-radius);
	}

	// News chat bar
	[class*="form"] [class*="wrapper"] {
		border-radius: var(--border-radius);
	}

	// Reactions
	[class*="reactions"] > div > [class*="reaction"] {
		border-radius: var(--border-radius);
	}

	// Buttons on messages
	[id*="message-accessories"] > [class*="button"] {
		border-radius: var(--border-radius);
	}

	// Bot tag
	[class*="botTagRegular"] {
		background-color: var(--background-accent);
	}

	// Slow mode
	[class*="cooldownWrapper"] {
		color: var(--text-muted) !important;
	}
}
